<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Carrinho - Zona Zero</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <header>
        <h1 style="color:#FFD700;">Meu Carrinho</h1>
    </header>

    <div class="carrinho-container">
        <h2>Itens no carrinho</h2>
        <div id="lista-carrinho"></div>
        <h3 id="total">Total: R$ 0,00</h3>
        <button id="btnFinalizarCarrinho" class="btn-whatsapp">Finalizar no WhatsApp</button>
    </div>

    <script>
        
        function renderizarCarrinho() {
            const carrinho = JSON.parse(localStorage.getItem("carrinho")) || [];
            const lista = document.getElementById("lista-carrinho");
            const totalElement = document.getElementById("total");
            lista.innerHTML = "";
            let total = 0;

            if (carrinho.length === 0) {
                lista.innerHTML = "<p>Seu carrinho está vazio.</p>";
                totalElement.textContent = "Total: R$ 0,00";
                return;
            }

            carrinho.forEach((item, index) => {
                const subtotal = item.preco * item.quantidade;
                total += subtotal;

                const itemDiv = document.createElement("div");
                itemDiv.className = "carrinho-item";
                itemDiv.innerHTML = `
                    <p><strong>${item.produto}</strong></p>
                    <p>Tamanho: ${item.tamanho}</p>
                    <p>Quantidade: ${item.quantidade}</p>
                    <p>Preço unitário: R$ ${item.preco.toFixed(2)}</p>
                    <p>Subtotal: R$ ${subtotal.toFixed(2)}</p>
                    <button onclick="removerItem(${index})">Remover</button>
                `;
                lista.appendChild(itemDiv);
            });

            totalElement.textContent = `Total: R$ ${total.toFixed(2)}`;
        }

     
        function removerItem(index) {
            let carrinho = JSON.parse(localStorage.getItem("carrinho")) || [];
            carrinho.splice(index, 1);
            localStorage.setItem("carrinho", JSON.stringify(carrinho));
            renderizarCarrinho();
        }

       
        document.getElementById("btnFinalizarCarrinho").onclick = () => {
            const carrinho = JSON.parse(localStorage.getItem("carrinho")) || [];
            if (carrinho.length === 0) {
                alert("Seu carrinho está vazio!");
                return;
            }

            let mensagem = "Pedido Zona Zero Streetwear\n\n";
            let total = 0;
            carrinho.forEach(item => {
                const subtotal = item.preco * item.quantidade;
                total += subtotal;
                mensagem += `Produto: ${item.produto}\nTamanho: ${item.tamanho}\nQuantidade: ${item.quantidade}\nPreço unitário: R$ ${item.preco.toFixed(2)}\nSubtotal: R$ ${subtotal.toFixed(2)}\n\n`;
            });
            mensagem += `Total: R$ ${total.toFixed(2)}\n\nGostaria de confirmar meu pedido.`;

            const url = "https://wa.me/55SEU_NUMERO_AQUI?text=" + encodeURIComponent(mensagem);
            window.open(url, "_blank");
        };

        document.addEventListener("DOMContentLoaded", renderizarCarrinho);
    </script>
</body>
</html>
